<html>
<head>
</head>

<body>
<a href="http://localhost:3333/api/auth/facebook/redirect">FACEBOOK LOGIN</a>
<a href="http://localhost:3333/api/auth/google/redirect">GOOGLE LOGIN</a>
<a href="http://localhost:3333/api/auth/linkedin/redirect">LINKEDIN LOGIN</a>
<a href="http://localhost:3333/api/auth/unknown/redirect">UNKNOWN LOGIN</a>
</body>


<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<script>

  function GetURLParameter(sParam) {
    var sPageURL = window.location.search.substring(1)
    var sURLVariables = sPageURL.split('&')

    for (var i = 0; i < sURLVariables.length; i++) {
      var sParameterName = sURLVariables[i].split('=')
      if (sParameterName[0] == sParam) {
        return sParameterName[1]
      }
    }
  }


  $(document).ready(function () {
    // sniff get params to check if socialAuth was redirected
    if (GetURLParameter('socialAuthSource')) {

      alert('OAUTH REDIRECT CALLBACK DETECTED')

      $.post('http://localhost:3333/api/auth/' + GetURLParameter('socialAuthSource'), {
        token: GetURLParameter('code')
      }, function (data) {
        alert('check console!')
        console.log('AUTHENTICATED WITH: ' + GetURLParameter('socialAuthSource'))
        console.log(data)
      })

    }
  })


</script>
</html>
